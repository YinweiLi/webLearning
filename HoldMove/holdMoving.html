<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
     *{
         margin: 0;
         padding: 0;
     }
      #drag{
          width: 200px;
          height: 200px;
          background: #000;
          cursor: pointer;
          position: absolute;
          left: 0;
          top: 0;

      }

    </style>
</head>
<body>
        <div id="drag">drag</div>
<script>
    var oDiv = document.getElementById("drag");
    oDiv.onmousedown = function(e){
        e = e || window.event;
        //解决兼容性问题
//        var taget;
//        if(e.target){
//            taget = e.target;
//            console.log(taget);
//            console.log(e.x+","+ e.y);
//        }else{
//            taget = e.target;
//            console.log(taget);
//        }
        //求出鼠标和块的距离
        var iDisX =  e.clientX - oDiv.offsetLeft;
        var iDisY = e.clientY - oDiv.offsetTop;
//        oDiv.onmousemove = function(e){
        document.onmousemove = function(e){
            oDiv.style.left = e.clientX - iDisX + "px";
            oDiv.style.top = e.clientY - iDisY + "px";
            return false;
        };
//        改成给浏览器绑定事件document.on...
//        浏览器有默认行为
//        阻止浏览器的默认行为可以用->return false;
//        oDiv.onmouseup = function(){
        document.onmouseup = function(){
//            oDiv.onmousemove = null;
            document.onmousemove = null;
        };

    };

</script>
</body>
</html>